<!doctype html>
<html ng-app="gem.main" ng-controller="AppController as appCtrl">
  <head>
    <meta charset="utf-8">
    <title data-ng-bind="appCtrl.getTitle()"></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <base href="/">

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="icon" href="/favicon.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/apple-touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="189x187" href="images/apple-touch-icon-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="386x382" href="images/apple-touch-icon-386-precomposed.png">
  </head>
  <body flex layout="column">

  <div class="mh-app-loader" ng-animate-children>
    <style type="text/css">
      .sk-spinner-rotating-plane.sk-spinner {
        width: 40px;
        height: 40px;
        background-color: #eb8c2d;
        margin: 0 auto;
        -webkit-animation: sk-rotatePlane 1.2s infinite ease-in-out;
        animation: sk-rotatePlane 1.2s infinite ease-in-out;
        z-index: 999999 ;
      }

      @-webkit-keyframes sk-rotatePlane {
        0% {
          -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg);
          transform: perspective(120px) rotateX(0deg) rotateY(0deg); }

        50% {
          -webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);
          transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg); }

        100% {
          -webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);
          transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg); } }

      @keyframes sk-rotatePlane {
        0% {
          -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg);
          transform: perspective(120px) rotateX(0deg) rotateY(0deg); }

        50% {
          -webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);
          transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg); }

        100% {
          -webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);
          transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg); } }

      div.mh-app-loader {
        position: fixed ;
      }
      div.mh-app-loader div.animated-container {
        background-color: #eee ;
        bottom: 0 ;
        left: 0 ;
        opacity: 1.0 ;
        position: fixed ;
        right: 0 ;
        top: 0 ;
        z-index: 999999 ;
      }
      /* Used to initialize the ng-leave animation state. */
      div.mh-app-loader div.animated-container.ng-leave {
        opacity: 1.0 ;
        transition: all linear 200ms ;
        -webkit-transition: all linear 200ms ;
      }
      /* Used to set the end properties of the ng-leave animation state. */
      div.mh-app-loader div.animated-container.ng-leave-active {
        opacity: 0 ;
      }
      div.mh-app-loader div.messaging {
        color: #FFFFFF ;
        font-family: monospace ;
        left: 0;
        margin-top: -37px ;
        position: absolute ;
        right: 0 ;
        text-align: center ;
        top: 50% ;
      }
    </style>
    <!-- BEGIN: Actual animated container. -->
    <div class="animated-container">
      <div class="messaging">
        <div class="sk-spinner sk-spinner-rotating-plane"></div>
      </div>
    </div>
    <!-- END: Actual animated container. -->
  </div>

    <div ng-if="acl.isLoggedIn()">

      <mhStateLoader></mhStateLoader>

      <div flex layout="row" class="main-container">
        <md-sidenav md-component-id="left" class="md-sidenav-left md-whiteframe-z1">
          <div flex data-ng-include="'templates/sidebar.html'" layout="column" layout-fill data-ng-controller="SidebarController as sidebarCtrl"></div>
        </md-sidenav>

        <div flex layout="column">

          <md-toolbar class="md-whiteframe-z0 header-toolbar">
            <div layout="row" layout-padding data-ng-include="'templates/header.html'" data-ng-controller="HeaderController as headerCtrl" > </div>
          </md-toolbar>

          <div flex layout="column" layout-margin>
            <div flex ui-view layout="column" ></div>
            <div style="color: #bbb">
              {{accessToken}}
            </div>
          </div>

        </div>
      </div>
    </div>
    <div flex ng-if="acl.isLoggedOut()" class="login-container">
      <div flex ui-view layout="column" ></div>
    </div>

  <!-- build:js(.) scripts/vendor.js -->
  <!-- bower:js -->
  <script src="../bower_components/jquery/dist/jquery.js"></script>
  <script src="../bower_components/angular/angular.js"></script>
  <script src="../bower_components/angular-animate/angular-animate.js"></script>
  <script src="../bower_components/angular-confirm/dist/angular-confirm.min.js"></script>
  <script src="../bower_components/angular-cookies/angular-cookies.js"></script>
  <script src="../bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
  <script src="../bower_components/bootstrap/dist/js/bootstrap.js"></script>
  <script src="../bower_components/Sortable/Sortable.js"></script>
  <script src="../bower_components/angular-dashboard-framework/dist/angular-dashboard-framework.js"></script>
  <script src="../bower_components/angular-fontawesome/dist/angular-fontawesome.js"></script>
  <script src="../bower_components/angular-gettext/dist/angular-gettext.js"></script>
  <script src="../bower_components/angular-loading-bar/build/loading-bar.js"></script>
  <script src="../bower_components/angular-aria/angular-aria.js"></script>
  <script src="../bower_components/angular-material/angular-material.js"></script>
  <script src="../bower_components/angular-material-icons/angular-material-icons.min.js"></script>
  <script src="../bower_components/angular-messages/angular-messages.js"></script>
  <script src="../bower_components/moment/moment.js"></script>
  <script src="../bower_components/angular-moment/angular-moment.js"></script>
  <script src="../bower_components/angular-spinkit/build/angular-spinkit.js"></script>
  <script src="../bower_components/angular-touch/angular-touch.js"></script>
  <script src="../bower_components/angular-ui-router/release/angular-ui-router.js"></script>
  <script src="../bower_components/angular-ui-tree/dist/angular-ui-tree.js"></script>
  <script src="../bower_components/angular-ui-tree/dist/angular-ui-tree.min.js"></script>
  <script src="../bower_components/angular-utils-pagination/dirPagination.js"></script>
  <script src="../bower_components/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
  <script src="../bower_components/bootstrap-hover-dropdown/bootstrap-hover-dropdown.js"></script>
  <script src="../bower_components/codemirror/lib/codemirror.js"></script>
  <script src="../bower_components/angular-ui-codemirror/ui-codemirror.js"></script>
  <script src="../bower_components/ng-mfb/src/mfb-directive.js"></script>
  <script src="../bower_components/adf-structures-base/dist/adf-structures-base.js"></script>
  <script src="../bower_components/angular-resource/angular-resource.js"></script>
  <script src="../bower_components/angular-sanitize/angular-sanitize.js"></script>
  <script src="../bower_components/iso-3166-country-codes-angular/dist/iso-3166-country-codes-angular.min.js"></script>
  <script src="../bower_components/svg-morpheus/compile/minified/svg-morpheus.js"></script>
  <script src="../bower_components/lodash/lodash.js"></script>
  <script src="../bower_components/ng-file-upload/ng-file-upload.js"></script>
  <script src="../bower_components/ng-tags-input/ng-tags-input.min.js"></script>
  <script src="../bower_components/restangular/dist/restangular.js"></script>
  <!-- endbower -->
  <!-- endbuild -->

  <script src="app.js"></script>

  </body>
</html>
