  <div ng-controller="PersonListController as personCtrl" class="person-list">

      <dir-pagination-controls boundary-links="true" on-page-change="personCtrl.pageChanged(newPageNumber)"
                               template-url="app/templates/dirPagination.html">
      </dir-pagination-controls>
      <md-card>
      <md-card-content>
      <div class="table-responsive-vertical">
      <table class="table table-striped table-bordered table-hover ">
        <thead>
        <tr>
          <th></th>
          <th translate>Person details</th>
          <th translate>Member Status</th>
          <th translate>Tags</th>
          <th translate>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr dir-paginate="person in personCtrl.persons | itemsPerPage: gemConfig.pagination.pageSize"
            total-items="personCtrl.totalPersons">

          <script type="text/ng-template" id="household-popover">
            <div class="triangle"></div>
            <div class="ns-popover-tooltip">
              <h3>{{::person.household.name}}</h3>
              <ul>
                <li ng-repeat="person in person.household.persons">
                  <a ui-sref="person.view({ id: person.id })">{{::person | formatName}}
                    <span ng-if="person.relationType">({{::personCtrl.relationTypes[person.relationType.type]}})</span>
                  </a>
                </li>
              </ul>
            </div>
          </script>

          <td data-title="Avatar">
            <a ui-sref="person.view({ id: person.id })">
              <gem-avatar person="person" size="xs" circle></gem-avatar>
            </a>
          </td>
          <td data-title="Name">
            <h3>
              <a ui-sref="person.view({ id: person.id })">
                {{::person | formatName}}
              </a>
            </h3>
            <ul class="list-inline text-muted">
              <li ng-if="person.household" ns-popover ns-popover-template="household-popover"
                  ns-popover-trigger="mouseenter" ns-popover-placement="bottom" ns-popover-timeout="0.2"
                  ns-popover-theme="ns-popover-tooltip-theme">
                <fa name="users"></fa>
                <a>{{ ::person.household.name }}</a>
              </li>
              <li ng-if="person.birthdate" title="{{'Birthdate' | translate}}">
                <fa name="calendar"></fa>
                {{::person.birthdate | date:medium}}
              </li>
              <li ng-if="person.email" title="{{'Email' | translate}}">
                <fa name="envelope"></fa>
                <a href="mailto:{{ ::person.email }}">{{ ::person.email }}</a>
              </li>
              <li ng-if="person.contact.home" title="{{'Home phone' | translate}}">
                <fa name="phone"></fa>
                <a href="tel:{{ ::person.contact.home }}">{{ ::person.contact.home }}</a>
              </li>
              <li ng-if="person.contact.work" title="{{'Work phone' | translate}}">
                <fa name="phone"></fa>
                <a href="tel:{{ ::person.contact.work }}">{{ ::person.contact.work }}</a>
              </li>
              <li ng-if="person.contact.mobile" title="{{'Mobile phone' | translate}}">
                <fa name="mobile"></fa>
                <a href="tel:{{ ::person.contact.mobile }}">{{ ::person.contact.mobile }}</a>
              </li>
              <li ng-if="person.contact.facebook" title="{{'Facebook' | translate}}">
                <a target="_blank" href="{{ ::person.contact.facebook | formatFacebookUrl }}">
                  <fa name="facebook"></fa>
                </a>
              </li>
              <li ng-if="person.contact.skype" title="{{'Skype' | translate}}">
                <a href="{{ ::person.contact.skype | formatSkypeUrl }}">
                  <fa name="skype"></fa>
                </a>
              </li>
            </ul>
          </td>
          <td class="label-row" data-title="Status">
            <span ng-repeat="status in person.status" class="tag status-tag">
              {{ status.text }}
            </span>
          </td>
          <td class="label-row" data-title="Tag">
            <span ng-repeat="tag in person.tags" class="tag">
              {{ tag }}
            </span>
          </td>
          <td class="actions" data-title="Actions">
            <md-button class="md-icon-button" tooltip="{{'Edit' | translate}}" aria-label="{{'Edit' | translate}}"
                       ui-sref="person.edit({ id: person.id })">
              <ng-md-icon icon="edit"></ng-md-icon>
            </md-button>
            <md-button class="md-icon-button " tooltip="{{'Delete' | translate}}" aria-label="{{'Delete' | translate}}"
                       ng-click="personCtrl.deletePerson(person)" href="#"
                       confirm="Delete “{{::person | formatName}}”?">
              <ng-md-icon icon="delete"></ng-md-icon>
            </md-button>

          </td>
        </tr>
        </tbody>
      </table>
      </div>
      </md-card-content>
      </md-card>
      <dir-pagination-controls boundary-links="true" on-page-change="personCtrl.pageChanged(newPageNumber)"
                               template-url="app/templates/dirPagination.html">
      </dir-pagination-controls>
  </div>
<a ui-sref="person.create">
  <md-button class="md-fab md-fab-floating-br md-accent" aria-label="New Report">
    <ng-md-icon icon="add"></ng-md-icon>
  </md-button>
</a>
