<mh-panel class="person-view">
  <div ng-controller="PersonViewController as personCtrl">
    <mh-panel-header>
      {{personCtrl.person.firstName}} {{personCtrl.person.middleName}} {{personCtrl.person.lastName}}
      <small class="text-muted" ng-if="personCtrl.person.nickName">({{personCtrl.person.nickName}})</small>
    </mh-panel-header>

    <mh-panel-body>
      <div class="row">
        <div class="col-md-3">
          <gem-avatar person="personCtrl.person" size="m" class="img-responsive avatar-shadow"></gem-avatar>
        </div>

        <div class="col-md-9">
          <md-button class="md-icon-button pull-right"
                     ui-sref="person.edit({ id: personCtrl.person.id })"
                     aria-label="{{'Edit person' | translate}}">
            <ng-md-icon icon="edit"></ng-md-icon>
          </md-button>

          <div class="row bootstrap">
            <div class="viewport">
            <span ng-repeat="status in personCtrl.person.status" class="label label-primary">
              {{ status.text }}
            </span>
            </div>
            <div class="viewport">
              <span ng-repeat="tag in personCtrl.person.tags" class="tag-item">{{tag.text}}</span>
            </div>
          </div>

          <div class="row">
            <div class="col-md-3">
              <div ng-include="'modules/person/views/person.view.details.html'"></div>
            </div>
            <div class="col-md-3">
              <div ng-include="'modules/person/views/person.view.contacts.html'"></div>
            </div>
            <div class="col-md-3">
              <div ng-include="'modules/person/views/person.view.addresses.html'"></div>
            </div>
          </div>

          <div class="row" ng-if="personCtrl.person.household">
            <div ng-include="'modules/person/views/person.view.household.html'"></div>
          </div>

        </div>
      </div>
    </mh-panel-body>
    <md-divider ></md-divider>

    <md-content class="md-padding">
      <md-tabs md-dynamic-height md-border-bottom>
        <md-tab label="Verlauf">

          <md-content class="md-padding">

            <mh-note-create notable-type="Person" notable-id="{{personCtrl.person.id}}" new-note="personCtrl.newNote(note)"></mh-note-create>
            <md-list>
              <md-subheader class="md-no-sticky">
                Verlauf zu {{personCtrl.person.firstName}} {{personCtrl.person.lastName}}
                <md-button class="md-fab md-mini fab-white" aria-label="{{'Add new note' | translate}}">
                  <ng-md-icon icon="note_add"></ng-md-icon>
                </md-button>
              </md-subheader>
              <md-list-item class="md-2-line" ng-repeat="note in personCtrl.notes">
                <md-button class="md-fab md-primary md-mini">
                <span style="color: #f9f9f9;font-size: 11px;font-weight:bolder">{{note.created}}</span><br>
                </md-button>
                <div class="md-list-item-text">
                  <h3><a href="#zurnotiz">{{note.title}}</a></h3>
                  <h4><ng-md-icon icon="event_note"></ng-md-icon> von <b>Michael Thissen </b>, um 10:23, in <a href="#">Leitungskreis</a></h4>
                  {{note.content}}
                </div>
              </md-list-item>
            </md-list>
          </md-content>

        </md-tab>
        <md-tab label="Gruppen">

        </md-tab>

      </md-tabs>
    </md-content>

  </div>
</mh-panel>
